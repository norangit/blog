# SpringSecurity æœ€ä½³å®è·µç³»åˆ—ï¼ˆä¸€ï¼‰

**Spring Security** æ˜¯ **Spring** å®˜æ–¹å‡ºå“çš„ä¸€ä¸ªå…³äºåº”ç”¨å®‰å…¨æ–¹é¢çš„æ¡†æ¶ï¼Œæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”é«˜åº¦å¯å®šåˆ¶çš„å®‰å…¨èº«ä»½è®¤è¯å’Œè®¿é—®æ§åˆ¶æ¡†æ¶ã€‚å®ƒæ˜¯ä¸€ä¸ªäº‹å®ä¸Šçš„åŸºäº **Spring** åº”ç”¨ç¨‹åºçš„å®‰å…¨è§„èŒƒæ ‡å‡†ã€‚å‡ ä¹æ¯ä¸€ä¸ªåº”ç”¨ç¨‹åºéƒ½éœ€è¦è€ƒè™‘å®‰å…¨ï¼Œç®€å•çš„å¦‚ç™»é™†è®¤è¯ï¼Œå¤æ‚çš„å¦‚æ–¹æ³•çº§åˆ«çš„æƒé™ç®¡ç†ç­‰ã€‚ **Spring Security** æ˜¯ä¸€ä¸ªå®‰å…¨æ¡†æ¶ï¼Œè‡´åŠ›äºä¸º `Java` åº”ç”¨ç¨‹åºæä¾›èº«ä»½è®¤è¯å’Œæˆæƒã€‚ä¸æ‰€æœ‰çš„ **Spring** å®˜æ–¹æä¾›çš„é¡¹ç›®ä¸€æ ·ï¼Œ**Spring Security** çš„çœŸæ­£å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒå¾ˆå®¹æ˜“æ‰©å±•ï¼Œä»¥æ»¡è¶³å®šåˆ¶åŒ–çš„éœ€æ±‚ã€‚

**Spring Security** ã€5.1.Xã€‘å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

* å…¨é¢çš„ã€å¯æ‰©å±•çš„èº«ä»½è®¤è¯å’Œæˆæƒæ”¯æŒ

* æ”»å‡»é˜²æŠ¤ï¼Œå¦‚ä¼šè¯å›ºå®šæ”»å‡»ï¼Œç‚¹å‡»åŠ«æŒï¼Œè·¨ç«™è¯·æ±‚ä¼ªé€ ç­‰

* **Servlet API** é›†æˆ

* å¯é€‰çš„ **Spring Web MVC** é›†æˆ

* æ›´å¤šã€‚ã€‚ã€‚

  

## å¿«é€Ÿä¸Šæ‰‹

å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£å¿«é€Ÿæ„å»ºä¸€ä¸ªç®€å•çš„ **SpringBoot** åº”ç”¨ï¼Œ[æˆ³è¿™é‡Œ](https://start.spring.io/)ï¼Œç„¶åä¸‹è½½ä¸‹æ¥è§£å‹ï¼Œå¯¼å…¥åˆ° IDE é‡Œï¼Œæ¨èä½¿ç”¨ [IDEA](https://www.jetbrains.com/idea/download/)ï¼Œåšä¸»ä¹Ÿæ˜¯ä» **Eclipse** è½¬åˆ° **IDEA** çš„ï¼Œæ¯”èµ· **Eclipse** æ¥éå¸¸å¥½ç”¨ï¼Œéå¸¸å¼ºå¤§ã€‚ æœ‰ç¤¾åŒºå…è´¹ç‰ˆï¼Œä¹Ÿæœ‰æ——èˆ°ç‰ˆã€‚

`æåŠ›æ¨èä½¿ç”¨ IDEA` ï¼ˆ[å¯ä»¥æˆ³è¿™é‡ŒæŸ¥çœ‹å¦‚ä½•ç§‘å­¦ä½¿ç”¨](https://gxfcba.com/a1/softRes)ï¼‰ã€‚

**Maven** ä¾èµ–ï¼š

```xml
<dependencies>
    <!-- ... å…¶å®ƒä¾èµ– ... -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-security</artifactId>
    </dependency>
</dependencies>
```



> **SpringBoot** è‡ªåŠ¨é…ç½®ä¼šè‡ªåŠ¨åœ°ï¼š

* å¯ç”¨ **Spring Security** çš„é»˜è®¤é…ç½®ï¼Œå³ï¼šåˆ›å»ºä¸€ä¸ª **Java Bean** åå­—ä¸º `springSecurityFilterChain`  çš„ **Servlet Filter**ã€‚ è¿™ä¸ª **Bean** è´Ÿè´£åº”ç”¨çš„æ‰€æœ‰å®‰å…¨ï¼Œä¿æŠ¤åº”ç”¨çš„æ‰€æœ‰ URLï¼ŒéªŒè¯æäº¤çš„ç”¨æˆ·åå¯†ç ï¼Œé‡å®šå‘åˆ°ç™»é™†é¡µé¢ï¼Œç­‰ç­‰ã€‚
* åˆ›å»ºä¸€ä¸ª **UserDetailsService**ï¼Œé»˜è®¤çš„ç”¨æˆ·åä¸º `user`ï¼Œä»¥åŠä¸€ä¸ªéšæœºç”Ÿæˆçš„å¯†ç 
* æ³¨å†Œ **springSecurityFilterChain Bean** åˆ° `Servlet` å®¹å™¨ä¸­ï¼Œå¹¶åº”ç”¨åˆ°æ¯ä¸€ä¸ªè¯·æ±‚ã€‚
* å¯¹äºä»»ä½•è¯·æ±‚éƒ½è¦æ±‚æœ‰ä¸€ä¸ªè¢«è®¤è¯çš„ç”¨æˆ·
* ä¸ºä½ ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ç™»é™†é¡µé¢
* å¯†ç åŠ å¯†æ ¼å¼ä¸º **BCrypt**
* ç”¨æˆ·ç™»å‡º
* [CSRF ä¿æŠ¤](https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0)
* [ä¼šè¯å›ºå®šæ”»å‡»ä¿æŠ¤](https://en.wikipedia.org/wiki/Session_fixation)
* å®‰å…¨ `HTTP Header` å“åº”å¤´é›†æˆï¼š
  1. [HTTP Strict Transport Security](https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8) ä¸¥æ ¼ä¼ è¾“å®‰å…¨
  2. [X-Content-Type-Options](https://msdn.microsoft.com/en-us/library/ie/gg622941(v=vs.85).aspx) å†…å®¹å®‰å…¨é›†æˆ
  3. ç¼“å­˜æ§åˆ¶
  4. [X-XSS-Protection](https://msdn.microsoft.com/en-us/library/dd565647(v=vs.85).aspx) è·¨ç«™è„šæœ¬æ”»å‡»
  5. `X-Frame-Options` é›†æˆä»¥ä¿æŠ¤[ç‚¹å‡»åŠ«æŒ](https://zh.wikipedia.org/wiki/%E7%82%B9%E5%87%BB%E5%8A%AB%E6%8C%81)
* é›†æˆäº†ä»¥ä¸‹æ–¹æ³•åˆ° Servlet API ï¼š
  1. [`HttpServletRequest#getRemoteUser()`](https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRemoteUser())
  2. [`HttpServletRequest.html#getUserPrincipal()`](https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getUserPrincipal())
  3. [`HttpServletRequest.html#isUserInRole(java.lang.String)`](https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#isUserInRole(java.lang.String))
  4. [`HttpServletRequest.html#login(java.lang.String, java.lang.String)`](https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#login(java.lang.String, java.lang.String))
  5. [`HttpServletRequest.html#logout()`](https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#logout())



> â€‹	**Security Filters** å®‰å…¨è¿‡æ»¤å™¨

**Spring Security** é»˜è®¤æä¾›äº†å¾ˆå¤šå®‰å…¨è¿‡æ»¤å™¨ï¼Œå¹¶ä¸”æœ‰ä¸€å®šçš„å…ˆåé¡ºåºã€‚ä»¥ä¸‹æ¥æºäºå®˜æ–¹æ–‡æ¡£ï¼š

- `ChannelProcessingFilter`
- `ConcurrentSessionFilter`
- `WebAsyncManagerIntegrationFilter`
- `SecurityContextPersistenceFilter`
- `HeaderWriterFilter`
- `CorsFilter`
- `CsrfFilter`
- `LogoutFilter`
- `OAuth2AuthorizationRequestRedirectFilter`
- `Saml2WebSsoAuthenticationRequestFilter`
- `X509AuthenticationFilter`
- `AbstractPreAuthenticatedProcessingFilter`
- `CasAuthenticationFilter`
- `OAuth2LoginAuthenticationFilter`
- `Saml2WebSsoAuthenticationFilter`
- [`UsernamePasswordAuthenticationFilter`](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-usernamepasswordauthenticationfilter)
- `ConcurrentSessionFilter`
- `OpenIDAuthenticationFilter`
- `DefaultLoginPageGeneratingFilter`
- `DefaultLogoutPageGeneratingFilter`
- [`DigestAuthenticationFilter`](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-digest)
- `BearerTokenAuthenticationFilter`
- [`BasicAuthenticationFilter`](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-basic)
- `RequestCacheAwareFilter`
- `SecurityContextHolderAwareRequestFilter`
- `JaasApiIntegrationFilter`
- `RememberMeAuthenticationFilter`
- `AnonymousAuthenticationFilter`
- `OAuth2AuthorizationCodeGrantFilter`
- `SessionManagementFilter`
- [`ExceptionTranslationFilter`](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-exceptiontranslationfilter)
- [`FilterSecurityInterceptor`](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authorization-filtersecurityinterceptor)
- `SwitchUserFilter`



å®é™…å¯ç”¨çš„ `Filter`ï¼Œå¯ä»¥é€šè¿‡ `DEBUG` æ—¥å¿—æŸ¥çœ‹ã€‚ä¸ºäº†ä¾¿äºæŸ¥çœ‹æ—¥å¿—è¾“å‡ºï¼Œå¯ä»¥åœ¨æµè§ˆå™¨åœ°å€æ è®¿é—®ä¸€ä¸ªåº”ç”¨çš„ URLï¼Œè¿™æ ·ä¸ä¼šæœ‰é¢å¤–çš„èµ„æºè¯·æ±‚ï¼Œæ¯”å¦‚ CSSã€JS ç­‰ï¼Œæˆ–è€…åªå‘ä¸€ä¸ª ajax è¯·æ±‚ã€‚å½“ä¸€ä¸ª `HTTP` è¯·æ±‚åˆ°è¾¾æ—¶ï¼Œæ§åˆ¶å°ä¼šæŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œ Spring Security å½“å‰å¯ç”¨çš„ Filterã€‚ç±»ä¼¼äºä¸‹é¢è¿™æ ·çš„è¾“å‡ºï¼š

```reStructuredText
[01:11:22.293] DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain 328 doFilter - /blog/list at position 1 of 13 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
......
[01:11:22.297] DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain 328 doFilter - /blog/list at position 13 of 13 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
```

ä¸€å…±æ˜¯ 13 ä¸ª `Filter`ï¼Œé™äºç¯‡å¹…ï¼Œè¿™é‡Œçœç•¥äº†ä¸­é—´éƒ¨åˆ†ã€‚åé¢ä¼šç»™å‡ºå¦‚ä½•å®šåˆ¶è¿™äº› `Filter`ã€‚



> **Authentication**è®¤è¯

å…³äºè®¤è¯ï¼Œ**Spring Security** æä¾›äº†å…¨é¢çš„è®¤è¯æ”¯æŒï¼š

- [Username and Password](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-unpwd) - åŸºäºç”¨æˆ·åå’Œå¯†ç çš„è®¤è¯ï¼ˆæœ€å¸¸ç”¨çš„ï¼‰
- [OAuth 2.0 Login](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login) - `OAuth 2.0 OpenID Connect` è®¤è¯ä¸éæ ‡å‡†çš„ `OAuth 2.0 è®¤è¯` (å³ï¼š`GitHub`)
- [SAML 2.0 Login](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-saml2) - `SAML 2.0` è®¤è¯
- [Central Authentication Server (CAS)](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-cas) - `Central Authentication Server (CAS)` è®¤è¯
- [Remember Me](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-rememberme) - è®°ä½æˆ‘
- [JAAS Authentication](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-jaas) -` JAAS` è®¤è¯
- [OpenID](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-openid) - `OpenID` è®¤è¯
- [Pre-Authentication Scenarios](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-preauth) - ä½¿ç”¨å¤–éƒ¨è®¤è¯æœºåˆ¶ï¼Œå¦‚ [SiteMinder](https://www.siteminder.com/) æˆ–è€… Java EE å®‰å…¨è®¤è¯ï¼Œ**Spring Security** ç›¸å½“äºä»£ç†ã€‚
- [X509 Authentication](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-x509) - `X509` è®¤è¯



é€šå¸¸ç”¨åˆ°çš„è®¤è¯ä¸ºç”¨æˆ·åå¯†ç è®¤è¯ï¼Œ`OAuth` è®¤è¯ï¼Œå†å¤æ‚çš„ï¼Œåšä¸»ç»éªŒæœ‰é™ï¼Œæ²¡æœ‰å®é™…ä½¿ç”¨è¿‡ã€‚æ²¡æœ‰å»è¿‡å¤§å‚ğŸ˜­ï¼Œä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤æ‚çš„åœºæ™¯ã€‚

**Spring Security** æä¾›äº†ä¸€äº›å†…ç½®å¯¹è±¡ç”¨äº Servlet ç¯å¢ƒä¸­ï¼š

- [SecurityContextHolder](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-securitycontextholder) - å­˜æ”¾è¢«è®¤è¯ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯
- [SecurityContext](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-securitycontext) - ä» `SecurityContextHolder` è·å–çš„ï¼ŒåŒ…å«äº†å½“å‰è¢«è®¤è¯å¯¹è±¡çš„ä¿¡æ¯
- [Authentication](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-authentication) - å¯ä»¥æ˜¯ `AuthenticationManager` çš„è¾“å…¥ï¼Œä»¥æä¾›ç”¨æˆ·æä¾›çš„ç”¨äºèº«ä»½éªŒè¯çš„å‡­æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯ `SecurityContext` ä¸­çš„å½“å‰ç”¨æˆ·
- [GrantedAuthority](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-granted-authority) - ä¸»ä½“çš„æˆæƒ(å³è§’è‰²ã€èŒƒå›´ç­‰)ã€‚
- [AuthenticationManager](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-authenticationmanager) - ç”¨äºæ§åˆ¶ **Spring Security** çš„ `Filters` å¦‚ä½•è¿›è¡Œè®¤è¯
- [ProviderManager](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-providermanager) - æœ€åŸºæœ¬çš„ `AuthenticationManager` å®ç°
- [AuthenticationProvider](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-authenticationprovider) - `ProviderManager` ç”¨äºæ‰§è¡Œç‰¹å®šç±»å‹çš„è®¤è¯
- [Request Credentials with `AuthenticationEntryPoint`](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-authenticationentrypoint) - ç”¨äºä»å®¢æˆ·ç«¯è¯·æ±‚å‡­æ®(å³é‡å®šå‘åˆ°ç™»å½•é¡µé¢ï¼Œå‘é€ `WWW-Authenticate` å“åº”ï¼Œç­‰ç­‰)ã€‚
- [AbstractAuthenticationProcessingFilter](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-abstractprocessingfilter) - ä¸€ä¸ªåŸºæœ¬çš„ `Filter` ç”¨äºè®¤è¯ã€‚ä¹Ÿæ˜¯ä¸€ä¸ªå¥½çš„åˆ‡å…¥ç‚¹ï¼Œä¾¿äºä»æ›´é«˜å±‚é¢ç†è§£è®¤è¯æµç¨‹ï¼Œä»¥åŠè¿™äº›å¯¹è±¡å¦‚ä½•ååŒå·¥ä½œã€‚

å…¶ä¸­åŸºäºç”¨æˆ·åå¯†ç çš„è®¤è¯ `UsernamePasswordAuthenticationFilter` å°±ç»§æ‰¿è‡ª `AbstractAuthenticationProcessingFilter`ã€‚



## åŸºäºç”¨æˆ·åå¯†ç çš„è®¤è¯

å®é™…ä¸­å°é¡¹ç›®ä¸­ï¼ŒåŸºäºç”¨æˆ·åå’Œå¯†ç çš„è®¤è¯æ˜¯æœ€å¸¸ç”¨åˆ°çš„äº†ï¼Œæ¯•ç«Ÿå¯¹äº web åº”ç”¨æ¥è¯´ï¼Œæœ€æ–¹ä¾¿çš„è®¤è¯å°±æ˜¯æä¾›ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œè®©ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç è¿›è¡ŒéªŒè¯ã€‚

äº‹å®ä¸Šï¼Œ**Spring Security** æä¾›äº†ä¸€ä¸ªæœ€ç®€å•çš„ç™»é™†é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢ç›¸å½“çš„ç®€æ´ã€‚ä¸ºäº†é¡µé¢ç¾è§‚ã€ä¸€è‡´æ€§ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ç™»é™†é¡µé¢ã€‚



ç»§æ‰¿ `WebSecurityConfigurerAdapter`ï¼Œç„¶åé‡å†™ `configure(HttpSecurity http)` æ–¹æ³•ï¼š

```java
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {
  	@Override
    protected void configure(HttpSecurity http) throws Exception {
      http
        // å…¶å®ƒé…ç½®
        .formLogin(form -> form
            .loginPage("/login")
            .permitAll()
        );
    }
  
  	@Bean
    public PasswordEncoder passwordEncoder() {

        return new BCryptPasswordEncoder();
    }
}
```



Controller æ–¹æ³•ï¼š

```java
@RequestMapping("/login")
public String login() {
  return "login";
}
```



ä½¿ç”¨ Thymeleaf æ¨¡æ¿ï¼Œä½¿ç”¨é»˜è®¤é…ç½®çš„æƒ…å†µä¸‹ï¼Œä¸Šé¢çš„æ–¹æ³•ä¼šè‡ªåŠ¨æŸ¥æ‰¾ `src/main/resources/templates/login.html`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```html
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
    <head>
        <title>Login Page</title>
    </head>
    <body>
        <h1>Log In</h1>
        <form th:action="@{/login}" method="post">
            <div>
            <input type="text" name="username" placeholder="Username"/>
            </div>
            <div>
            <input type="password" name="password" placeholder="Password"/>
            </div>
            <input type="submit" value="Log in" />
        </form>
    </body>
</html>
```



è‡ªå®šä¹‰çš„ `UserDetailsService`

```java
@Service
public class MyUserDetailsService implements UserDetailsService {

    @Value("${spring.security.user.password}")
    private String defaultPassword;

    @Value("${spring.security.user.name}")
    private String defaultAdmin;

    private PasswordEncoder passwordEncoder;

    @Override
    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {				
      	//è¿™é‡Œåªæ˜¯æ¼”ç¤ºè¯»å–é»˜è®¤çš„é…ç½®ï¼Œå®é™…ä¸­ï¼Œå¯ä»¥ä»æ•°æ®åº“ä¸­æ ¹æ®ä¼ å…¥çš„ username å‚æ•°æŸ¥æ‰¾æ˜¯å¦å½“å‰ç”¨æˆ·å­˜åœ¨
        List<GrantedAuthority> authorities = new ArrayList<>();
        authorities.add(new SimpleGrantedAuthority("ROLE_ADMIN"));
        authorities.add(new SimpleGrantedAuthority("ENDPOINT_ADMIN"));

        User user = new User(defaultAdmin, passwordEncoder.encode(defaultPassword), true, true, true, true, authorities);

        return user;
    }

    // ******** SETTER METHOD DI ********
    @Autowired
    public void setPasswordEncoder(PasswordEncoder passwordEncoder) {
        this.passwordEncoder = passwordEncoder;
    }
}
```

å¦‚ä¸Šæ³¨é‡Šï¼Œå®é™…ä¸­ï¼Œå¯ä»¥ä»æ•°æ®åº“ä¸­æ ¹æ®ä¼ å…¥çš„ `username` æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å¯¹åº”çš„ç”¨æˆ·ï¼Œå¦‚æœå­˜åœ¨åˆ™æ„å»ºä¸€ä¸ª `org.springframework.security.core.userdetails.User` å¹¶è¿”å›ï¼Œä¸å­˜åœ¨åˆ™è¿”å› `null`ã€‚åç»­çš„è®¤è¯ä¼šè‡ªåŠ¨å¤„ç†ã€‚ç”±äºæœ¬ç«™çš„ç”¨æˆ·è®¤è¯æ˜¯åŸºäº `GitHub` çš„è®¤è¯ï¼Œåå°ç®¡ç†åªéœ€è¦æœ‰ä¸€ä¸ªç®¡ç†å‘˜è´¦å·å°±å¤Ÿäº†ï¼Œæ‰€ä»¥ç›´æ¥é…ç½®ä¸€ä¸ªå°±å¯ä»¥äº†ã€‚

å…³äºå¯†ç çš„åŠ å¯†ç®—æ³•ï¼Œä½¿ç”¨å®˜æ–¹æ¨èçš„ `BCryptPasswordEncoder`ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ–°å»ºç”¨æˆ·çš„æ—¶å€™éœ€è¦å¯¹å¯†ç è¿›è¡ŒåŠ å¯†ï¼Œæ•°æ®åº“é‡Œå­˜å‚¨çš„æ˜¯å¯†æ–‡ï¼Œä¸éœ€è¦æ‹…å¿ƒæ³„éœ²ã€‚å…³äºç”¨æˆ·åå¯†ç çš„è®¤è¯å°±è¿™ä¹ˆç®€å•ã€‚

æ›¾ç»è§è¿‡æœ‰äººåœ¨åœ¨æµè§ˆå™¨ç«¯åŠ å¯†å¯†ç ç„¶åå‘é€åˆ°åå°ï¼Œå…¶å®æ²¡æœ‰ä¸€ç‚¹å¿…è¦ï¼Œå¦‚æœè¯·æ±‚çœŸçš„è¢«æˆªè·äº†ï¼ŒçŸ¥é“å¯†ç ä¹Ÿæ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œå¯¹äºä¸ªäººæ¥è¯´ï¼ŒåŸºæœ¬éƒ½ç”¨çš„æ˜¯äº‘æœåŠ¡å™¨ï¼Œä¹°äº‘æœåŠ¡å™¨éƒ½é€ `HTTPS` è¯ä¹¦ï¼Œä¼ä¸šå°±æ›´ä¸ç”¨è¯´äº†ï¼Œæ‰€ä»¥å…¨ç«™å¯ç”¨ `HTTPS` å·²ç»æ˜¯æœ€åŸºæœ¬çš„äº†ï¼Œè¶³ä»¥ä¿è¯æ•°æ®çš„å®‰å…¨äº†ã€‚è¯¦ç»†çš„ HTTPS ä¿¡æ¯äº†è§£ï¼Œæˆ³è¿™é‡Œ [HTTPS ç»´åŸºç™¾ç§‘](https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE)ã€‚

### ç³»åˆ—æ•™ç¨‹

* [SpringSecurity æœ€ä½³å®è·µç³»åˆ—ï¼ˆäºŒï¼‰](https://gxfcba.com/a1/blog/10)

