# SpringBoot 快速上手系列教程（二）



**SpringBoot** 是 **Spring** 官方为了简化开发难度，提升开发效率而打磨的一个造福开发者的全能框架，她天生就是为集成而来，方便集成，快速集成，自动集成。她提供了很多本是生产环境才具有的特性，比如应用监控，代码热修改等。提供了最佳实践如：代码结构，配置，自动配置，**Spring Beans** 和依赖注入等。为了达到这些简化、自动化，对开发人员极大的便利性背后，**SpringBoot** 做了大量的工作。



## SpringBoot 主要入口类配置

**SpringBoot** 有一个主要的入口类，通过该类的 **Main** 方法来启动应用。如：

```java
@SpringBootApplication
@EnableTransactionManagement
public class App {
    private static Logger logger = LogManager.getLogger(App.class);
    private static ApplicationContext applicationContext;

    public static void main(String[] args) {
    		applicationContext = SpringApplication.run(App.class, args);
		}

    public static <T> T getBean(Class<T> clz) {
        return (T) applicationContext.getBean(clz);
    }
  
  	@Bean
    public RestTemplate restTemplate() {
        return new RestTemplate();
    }
}
```

注解 **[@SpringBootApplication](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-using-springbootapplication-annotation)** 实际上等价于别的 3 个注解的作用：**`@EnableAutoConfiguration`，`@ComponentScan`，`@Configuration`**。

通常不会把所有的额外的配置信息都放在 App 类里面，会单独创建特定的配置类，比如 **Spring Security** 的配置，就需要几十行代码，甚至更多，还会有别的配置等。可以简单的配置一些东西，比如配置一个 **RestTemplate**。



### 日志系统

推荐使用 Log4j2 日志系统，使用 spring-boot-starter-log4j2 **Starter**，

```xml
<dependency>
  <groupId>org.springframework.boot</groupId>
  <artifactId>spring-boot-starter-log4j2</artifactId>
</dependency>
```

在 resources 目录下新建一个文件：`log4j2-spring.xml`，然后在 **`application.properties`** 文件里指定

```properties
logging.config=classpath:log4j2-spring.xml
#开发阶段可以禁用某些不重要的日志输出
logging.level.org.springframework.beans.factory=ERROR
```

生产环境可以参考 Log4j2 官方文档

### 事务管理

**@EnableTransactionManagement** 是启用事务支持的，然后在需要事务的 Service 方法上添加相应的注解即可，比如：只读事务 - **@Transactional(readOnly = true)**，`readOnly` 默认是 `false`， 是支持写操作的，在查询方法或者不重要的方法上可以使用只读事务来提升性能。





